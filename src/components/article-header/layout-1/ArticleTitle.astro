---
import OverflowFadeText from "$/components/text/OverflowFadeText.svelte"
import LeadingTrimText from "$components/text/LeadingTrimText.astro"

interface Props {
  title: string
  overflow?: "fade" | "wrap"
}

const { title, overflow = "wrap" } = Astro.props

const maxWordLength = Math.max(...title.split(" ").map((word) => word.length))
const isFadable = overflow === "fade" && maxWordLength > 11
---

{
  isFadable ? (
    <LeadingTrimText tag="div">
      <OverflowFadeText as="h1" text={title} class="ArticleTitle" client:load />
    </LeadingTrimText>
  ) : (
    <LeadingTrimText tag="h1" className="ArticleTitle">
      {title}
    </LeadingTrimText>
  )
}

<style>
  .ArticleTitle {
    font-size: 2.25rem;
    line-height: 2.5rem;
    font-weight: 800;
    text-align: center;
    word-break: auto-phrase;
    margin: 0;
    color: light-dark(var(--slate-500), var(--slate-200));
  }
  @media (min-width: 768px) {
    .ArticleTitle {
      font-size: 3rem;
      line-height: 1;
      text-align: start;
    }
  }
</style>
