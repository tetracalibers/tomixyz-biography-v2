---
import { getPrev } from "$/lib/series"

interface Props {
  series: string
  title?: string
}

const { series, title } = Astro.props
const current = Astro.url.pathname.split("/").pop() ?? ""
const prev = await getPrev(series, current)
const getUrl = (id: string) => `/recipes/${id}`
---

{
  prev && (
    <a class="SeriesPrevLink no-marker" href={getUrl(prev.id)}>
      {title ?? prev.title}
    </a>
  )
}
