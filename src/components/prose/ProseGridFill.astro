---
import "./prose.css"
---

<article class="ProseGrid prose">
  <slot />
</article>

<style>
  .ProseGrid::before {
    background-color: light-dark(#f4f6ff, transparent);
  }

  .ProseGrid:has(*) {
    --px: 3vw;
    --py: 3vh;
    position: relative;
    padding: calc(max(var(--px), var(--py)) * 2.5);
    margin-inline: -1rem;
  }

  .ProseGrid:has(*)::before {
    content: "";
    position: absolute;
    inset: 0;
    z-index: -1;

    --line-color: #e8e5e3;
    background-image:
      linear-gradient(180deg, transparent 96%, var(--line-color) 100%),
      linear-gradient(90deg, transparent 96%, var(--line-color) 100%);
    background-size: 1em 1em;
    -webkit-mask-origin: padding-box;
    -webkit-mask-composite: source-in;
    -webkit-mask-image:
      linear-gradient(
        to right,
        rgba(0, 0, 0, 0) 0%,
        white calc(var(--px) * 2),
        white calc(100% - var(--px) * 2),
        rgba(0, 0, 0, 0) 100%
      ),
      linear-gradient(
        to bottom,
        rgba(0, 0, 0, 0) 0%,
        white calc(var(--py) * 2),
        white calc(100% - var(--py) * 2),
        rgba(0, 0, 0, 0) 100%
      );
  }

  :global(.dark) .ProseGrid:has(*)::before {
    --line-color: #475569;
    background-color: transparent;
  }

  /* .ProseGrid:has(*) :global(> *:not(img)) {
    margin-inline: -1rem;
  } */
</style>
