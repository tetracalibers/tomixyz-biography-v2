---
import "./prose.css"
---

<article class="ProseGridFill prose">
  <div class="background"></div>
  <div class="content"><slot /></div>
</article>

<style>
  .ProseGridFill {
    --px: 2vw;
    --py: 2vh;

    display: grid;
  }
  :is(.background, .content) {
    grid-column: 1 / -1;
    grid-row: 1 / -1;
  }

  .background {
    --line-color: #e8e5e3;

    border-radius: 3rem 2rem;
    box-sizing: border-box;
    background-color: light-dark(rgba(244, 246, 255, 0.7), transparent);
    z-index: -1;
    padding-inline: calc(max(var(--px), var(--py)) * 2.5);
    padding-block: calc(max(var(--px), var(--py)) * 2.5);
    margin: -1rem;
    background-image:
      linear-gradient(180deg, transparent 96%, var(--line-color) 100%),
      linear-gradient(90deg, transparent 96%, var(--line-color) 100%);
    background-size: 1em 1em;
    -webkit-mask-origin: padding-box;
    -webkit-mask-composite: source-in;
    -webkit-mask-image:
      linear-gradient(
        to right,
        rgba(0, 0, 0, 0) 0%,
        white calc(var(--px) * 2),
        white calc(100% - var(--px) * 2),
        rgba(0, 0, 0, 0) 100%
      ),
      linear-gradient(
        to bottom,
        rgba(0, 0, 0, 0) 0%,
        white calc(var(--py) * 2),
        white calc(100% - var(--py) * 2),
        rgba(0, 0, 0, 0) 100%
      );
  }
  :global(.dark) .background {
    --line-color: #475569;
    background-color: transparent;
  }

  .content {
    padding-inline: calc(max(var(--px), var(--py)) * 1.5);
    padding-block: calc(max(var(--px), var(--py)) * 1.5);
  }
</style>
